---
title: "Final Project - Indicators of Anxiety or Depression Based on Reported Frequency of Symptoms During Last 7 Days"
date: last-modified
author: "Ian Walsh & Logan Rosell"
format: 
    html:
        embed-resources: true
jupyter: python3
---
**Reseach Question:** How did anxiety and depression levels differ between states following the outbreak of COVID-19 in the United States?

# Data Cleaning

Import libraries and dataset
```{python}
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_csv("./Datasets/Indicators_of_Anxiety_or_Depression_Based_on_Reported_Frequency_of_Symptoms_During_Last_7_Days.csv")

df.head()
```

Filter to only state data and drop unnecessary columns;Group and Subgroup are redundant, Time period and CI are just combinations of other column's data.
```{python}
state_data = df[df['Group']=='By State']

state_data.drop(columns = ['Group', 'Subgroup', 'Time Period Label', 'Confidence Interval'], inplace = True)
```

Seperate Quartile Range into 2 Columns:
```{python}

```

Clean up the Phase column:
```{python}
state_data['Phase'].unique()
# There are 2 values that contain dates which are already stored in other columns, so we can remove these dates

state_data['Phase'] = state_data['Phase'].str.split(' ', expand = True).get(0)
```

Change Data Types as needed
```{python}
state_data['Indicator'] = pd.Categorical(state_data['Indicator'], categories = ['Symptoms of Depressive Disorder', 'Symptoms of Anxiety Disorder', 'Symptoms of Anxiety Disorder or Depressive Disorder'])

state_data['Phase'] = pd.Categorical(state_data['Phase'], categories=['1', '2', '3', '3.1', '3.2', '3.3', '3.4', '3.5', '3.6', '3.7', '3.8', '3.9', '3.10'])

state_data['Time Period Start Date'] = pd.to_datetime(state_data['Time Period Start Date'])
state_data['Time Period End Date'] = pd.to_datetime(state_data['Time Period End Date'])
```

# EDA 

Looking at some graphs
```{python}
# Histogram of values for all states
plt1 = sns.histplot(state_data, x='Value')
plt.show()
```

```{python}
# Pair Plot
pair_plot = sns.pairplot(state_data)
plt.show()
```

```{python}
oregon = state_data[state_data['State']=='Oregon']
oregon_depression = oregon[oregon['Indicator']=='Symptoms of Depressive Disorder']

O_dprs_ovr_tm = sns.lineplot(oregon_depression, x='Time Period End Date', y='Value')
plt.show()
```

```{python}
Wisconsin = state_data[state_data['State']=='Wisconsin']
Wisconsin_depression = Wisconsin[Wisconsin['Indicator']=='Symptoms of Depressive Disorder']

W_dprs_ovr_tm = sns.lineplot(Wisconsin_depression, x='Time Period End Date', y='Value')
plt.show()
```